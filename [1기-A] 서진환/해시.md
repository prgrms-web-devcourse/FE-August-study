![img](https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Hash_table_3_1_1_0_1_0_0_SP.svg/1280px-Hash_table_3_1_1_0_1_0_0_SP.svg.png)



해시 테이블은 해시 함수를 사용하여 색인(index)을 저장소(버킷(bucket)이나 슬롯(slot))를 배열로 계산한다.



해시 테이블은 연관배열(associative array) 구조( key - value 1:1로 연결)를 이용하여 키에 value를 저저장하는 자료구조이다.


- 키 - 고유한 값이며 해시 함수의 input

- 해쉬 함수 - 키를 해시로 바꿔주는 역활.


- 해시 - 해시 함수의 결과물이며, 저장소에서 값과 매칭되어 저장된다.

- 값 - 저장소에 최종적으로 저장되는 값으로 키와 매칭되어 저장, 삭제, 검색, 접근이 가능하다.


---

- 저장(Insertion) - O(1)
- 삭제(Deletion) - O(1), 해시충돌이 일어난다면 O(n)이 될수도
- 검색(Search) - O(1), 해시충돌이 일어난다면 O(n)이 될수도



----



## 해시 함수

- 해시 함수는 임의의 길이의 데이터를 고정된 길이의 데이터로 매핑하는 함수이다.



해시 함수를 적용해서 나온 값을 해시값이라 한다. (== 해시코드, 해시섬(sum), 체크섬)



같은 입력값에 대해선 같은 출력값을 보장한다.(특수 목적용으론 같은 입력에 대해 다른 출력값을 가지게 할수도  있다.)


---
## 해시 충돌(Hash Collision)

서로 다른 키가 같은 해시가 되는 경우를 **해시충돌(Hash Collision)**이라하는데, 해시 충돌을 일으키는 확률을 최대한으로 줄이는 함수를 만드는 것이 중요하다.

![img](https://upload.wikimedia.org/wikipedia/commons/thumb/5/58/Hash_table_4_1_1_0_0_1_0_LL.svg/1280px-Hash_table_4_1_1_0_0_1_0_LL.svg.png)

- 서로 다른 두 개의 입력값에 대해 동일한 출력값을 내는 상황

만약, 무한의 가짓수를 입력받아 유한한 가짓수의 출력값을 생성하는 경우 비둘기집 원리에 의해 해시 충돌은 항상 존재한다.

>비둘기집 원리 - n+1개의 물건을 n개의 상자에 넣을 때 적어도 어느 한 상자에는 두 개 이상의 물건이 들어 있다.

충돌은 해시 함수를 이용한 자료구조나 알고리즘의 효율성을 떨어뜨리며, 최대한 충돌이 자주 발생하지 않도록 구성되어야 한다.



### 충돌 방지 방법



1. Separate Chaining (Chaining)

![img](https://media.vlpt.us/post-images/cyranocoding/329e7e60-b226-11e9-a4ce-730fc6b3757a/16eBeaqTti8MxWPsw4xBgw.png)

연결리스트를 이용하여 외부 저장 공간의 값을 가져온다.

2. Open Addressing(개방주소법)

해시가 이미 차있다면, 빈 해시를 찾아 저장하는 방법을 의미한다.

데이터가 많아진다면 그에 따른 저장소가 더 많아져야 한다.





### 해시구조 단점



1. 순서가 필요한 배열구조에서는 어울리지 않는다.
   - 상하관계가 있거나, 순서가 중요한 데이터의 경우 
2. 공간 효율성이 떨어진다. (공간을 희생하고 속도를 얻는 형태)
   - 데이터가 저장되기 전에 미리 빈 공간을 확보해야함



### 해시 사용

- 암호, 보안

  - 해시 함수를 통해 원래의 값을 암호화 한다.

    (MD5("The quick brown fox jumps over the lazy dog") = 9e107d9d372bb6826bd81d3542a419d6 )

    ![img](https://t1.daumcdn.net/cfile/tistory/99B4714E5B51A1C738)

    

- 키를 이용하여 정보찾기 (DB)

  - 이름을 넣었을 때 전화번호를 찾는다던가, 아이디를 입력했을 때 비밀번호를 찾는 것의 방법으로 이용된다.

- 블록체인

  - 해시를 통해 기록을 남길수 있다.
